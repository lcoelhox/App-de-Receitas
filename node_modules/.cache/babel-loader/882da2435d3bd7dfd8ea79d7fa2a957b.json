{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/pages/RecipeDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport { fetchDrinksById, fetchMealsById } from '../services/fetchById';\nimport { fetchSuggestionDrinks, fetchSuggestionMeals } from '../services/fetchSuggestions';\nimport '../css/buttons.css';\nimport RecipesContext from '../hooks/RecipesContext';\nimport SuggestionCard from '../components/SuggestionCard';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RecipeDetails(_ref) {\n  _s();\n\n  let {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = _ref;\n  const history = useHistory();\n  const {\n    setSuggestionsToRender,\n    suggestionsToRender,\n    saveRecipeToLocalStorage,\n    removeRecipeFromLocalStorage,\n    isRecipeOnLocalStorage\n  } = useContext(RecipesContext);\n  const [details, setDetails] = useState({});\n  const [suggestions, setSuggestions] = useState([]);\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [measure, setMeasure] = useState([]);\n  const five = 5;\n  const oneSecond = 1000;\n  const timer = useRef(null);\n  const inProgressRecipesLS = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const [urlCopied, setUrlCopied] = useState(false);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n\n  const getingValidIngredients = () => {\n    Object.keys(details).forEach(key => {\n      if (key.includes('strIngredient') && details[key] !== null && details[key] !== '' && !allIngredients.some(ing => ing.includes(details[key]))) {\n        setAllIngredients(prev => [...prev, details[key]]);\n      }\n\n      if (key.includes('strMeasure') && details[key] !== null && details[key] !== '' && !allIngredients.some(ing => ing.includes(details[key]))) {\n        setMeasure(previous => [...previous, details[key]]);\n      }\n    });\n  };\n\n  const shareRecipe = () => {\n    copy(window.location.href);\n    setUrlCopied(true);\n  };\n\n  const favoriteRecipe = () => {\n    if (isRecipeOnLocalStorage(id)) {\n      removeRecipeFromLocalStorage(id);\n    } else {\n      saveRecipeToLocalStorage(id);\n    }\n  };\n\n  const getButtonStartText = () => {\n    if (inProgressRecipesLS) {\n      if (history.location.pathname.includes('meals') && Object.keys(inProgressRecipesLS).includes('meals')) {\n        return Object.keys(inProgressRecipesLS.meals).includes(id);\n      }\n\n      if (history.location.pathname.includes('drinks') && Object.keys(inProgressRecipesLS).includes('drinks')) {\n        return Object.keys(inProgressRecipesLS.drinks).includes(id);\n      }\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    if (isRecipeOnLocalStorage(id)) setFavoriteIcon(blackHeartIcon);else setFavoriteIcon(whiteHeartIcon);\n  }, [favoriteIcon]);\n  useEffect(() => {\n    suggestions.forEach((suggestion, i) => {\n      if (i <= five) {\n        setSuggestionsToRender(prev => [...prev, suggestion]);\n      }\n    });\n\n    const trigger = () => {\n      clearTimeout(timer.current);\n      timer.current = setTimeout(() => getingValidIngredients(), oneSecond);\n    };\n\n    trigger();\n  }, [suggestions, details]);\n  useEffect(() => {\n    const fetchAndGet = async () => {\n      if (history.location.pathname.includes('meals')) {\n        const mealsResults = await fetchMealsById(id);\n        const drinksSuggestion = await fetchSuggestionDrinks();\n        setDetails({ ...mealsResults.meals[0]\n        });\n        setSuggestions([...drinksSuggestion.drinks]);\n      } else if (history.location.pathname.includes('drinks')) {\n        const drinksResults = await fetchDrinksById(id);\n        const mealsSuggestion = await fetchSuggestionMeals();\n        setDetails({ ...drinksResults.drinks[0]\n        });\n        setSuggestions(() => [...mealsSuggestion.meals]);\n      }\n    };\n\n    fetchAndGet();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"RecipeDetails\", urlCopied && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `${id}/in-progress`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"startRecipe\",\n          type: \"button\",\n          \"data-testid\": \"start-recipe-btn\",\n          children: getButtonStartText() ? 'Continue Recipe' : 'Start Recipe'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"share-btn\",\n        onClick: shareRecipe,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shareIcon,\n          alt: \"share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"favorite-btn\",\n        onClick: favoriteRecipe,\n        src: favoriteIcon,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: favoriteIcon,\n          alt: \"favorite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: history.location.pathname.includes('meals') ? /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"recipe-photo\",\n          alt: details.strMeal,\n          src: details.strMealThumb\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          \"data-testid\": \"recipe-title\",\n          children: details.strMeal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"recipe-category\",\n          children: details.strCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: allIngredients && allIngredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-testid\": `${i}-ingredient-name-and-measure`,\n            children: `${measure[i]} ${ingredient}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"instructions\",\n          children: details.strInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: details.strYoutube,\n          title: details.strMeal,\n          \"data-testid\": \"video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"recipe-photo\",\n          alt: details.strDrink,\n          src: details.strDrinkThumb\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          \"data-testid\": \"recipe-title\",\n          children: details.strDrink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"recipe-category\",\n          children: `${details.strCategory} - ${details.strAlcoholic}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: allIngredients && allIngredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"meals-ingredients\",\n            \"data-testid\": `${i}-ingredient-name-and-measure`,\n            children: `${measure[i]} ${ingredient}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"instructions\",\n          children: details.strInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestion-card-container\",\n      role: \"listbox\",\n      children: suggestionsToRender && suggestionsToRender.map((suggestion, i) => {\n        if (history.location.pathname.includes('meals')) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-card\",\n            \"data-testid\": `${i}-recommendation-card`,\n            children: /*#__PURE__*/_jsxDEV(SuggestionCard, {\n              name: suggestion.strDrink,\n              index: i\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this);\n        }\n\n        if (history.location.pathname.includes('drinks')) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-card\",\n            \"data-testid\": `${i}-recommendation-card`,\n            children: /*#__PURE__*/_jsxDEV(SuggestionCard, {\n              name: suggestion.strMeal,\n              index: i\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this);\n        }\n\n        return 'erro';\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RecipeDetails, \"6Uf/5fGQCAvbyAyBGGFftOStW/k=\", false, function () {\n  return [useHistory];\n});\n\n_c = RecipeDetails;\nRecipeDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n}.isRequired;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useRef","useHistory","Link","PropTypes","copy","fetchDrinksById","fetchMealsById","fetchSuggestionDrinks","fetchSuggestionMeals","RecipesContext","SuggestionCard","shareIcon","whiteHeartIcon","blackHeartIcon","RecipeDetails","match","params","id","history","setSuggestionsToRender","suggestionsToRender","saveRecipeToLocalStorage","removeRecipeFromLocalStorage","isRecipeOnLocalStorage","details","setDetails","suggestions","setSuggestions","allIngredients","setAllIngredients","measure","setMeasure","five","oneSecond","timer","inProgressRecipesLS","JSON","parse","localStorage","getItem","urlCopied","setUrlCopied","favoriteIcon","setFavoriteIcon","getingValidIngredients","Object","keys","forEach","key","includes","some","ing","prev","previous","shareRecipe","window","location","href","favoriteRecipe","getButtonStartText","pathname","meals","drinks","suggestion","i","trigger","clearTimeout","current","setTimeout","fetchAndGet","mealsResults","drinksSuggestion","drinksResults","mealsSuggestion","strMeal","strMealThumb","strCategory","map","ingredient","strInstructions","strYoutube","strDrink","strDrinkThumb","strAlcoholic","propTypes","shape","string","isRequired"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/pages/RecipeDetails.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport { fetchDrinksById, fetchMealsById } from '../services/fetchById';\nimport {\n  fetchSuggestionDrinks,\n  fetchSuggestionMeals,\n} from '../services/fetchSuggestions';\nimport '../css/buttons.css';\nimport RecipesContext from '../hooks/RecipesContext';\nimport SuggestionCard from '../components/SuggestionCard';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\nexport default function RecipeDetails({ match: { params: { id } } }) {\n  const history = useHistory();\n  const {\n    setSuggestionsToRender,\n    suggestionsToRender,\n    saveRecipeToLocalStorage,\n    removeRecipeFromLocalStorage,\n    isRecipeOnLocalStorage } = useContext(RecipesContext);\n  const [details, setDetails] = useState({});\n  const [suggestions, setSuggestions] = useState([]);\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [measure, setMeasure] = useState([]);\n  const five = 5;\n  const oneSecond = 1000;\n  const timer = useRef(null);\n  const inProgressRecipesLS = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const [urlCopied, setUrlCopied] = useState(false);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n  const getingValidIngredients = () => {\n    Object.keys(details).forEach((key) => {\n      if (key.includes('strIngredient')\n        && details[key] !== null\n        && details[key] !== ''\n        && !allIngredients.some((ing) => ing.includes(details[key]))) {\n        setAllIngredients((prev) => [\n          ...prev,\n          details[key],\n        ]);\n      }\n      if (key.includes('strMeasure')\n        && details[key] !== null\n        && details[key] !== ''\n        && !allIngredients.some((ing) => ing.includes(details[key]))) {\n        setMeasure((previous) => [\n          ...previous,\n          details[key],\n        ]);\n      }\n    });\n  };\n  const shareRecipe = () => {\n    copy(window.location.href);\n    setUrlCopied(true);\n  };\n  const favoriteRecipe = () => {\n    if (isRecipeOnLocalStorage(id)) {\n      removeRecipeFromLocalStorage(id);\n    } else {\n      saveRecipeToLocalStorage(id);\n    }\n  };\n  const getButtonStartText = () => {\n    if (inProgressRecipesLS) {\n      if (history.location.pathname.includes('meals')\n        && Object.keys(inProgressRecipesLS).includes('meals')) {\n        return Object.keys(inProgressRecipesLS.meals).includes(id);\n      }\n      if (history.location.pathname.includes('drinks')\n        && Object.keys(inProgressRecipesLS).includes('drinks')) {\n        return Object.keys(inProgressRecipesLS.drinks).includes(id);\n      }\n    }\n    return false;\n  };\n  useEffect(() => {\n    if (isRecipeOnLocalStorage(id)) setFavoriteIcon(blackHeartIcon);\n    else setFavoriteIcon(whiteHeartIcon);\n  }, [favoriteIcon]);\n  useEffect(() => {\n    suggestions.forEach((suggestion, i) => {\n      if (i <= five) {\n        setSuggestionsToRender((prev) => [\n          ...prev,\n          suggestion,\n        ]);\n      }\n    });\n    const trigger = () => {\n      clearTimeout(timer.current);\n      timer.current = setTimeout(() => getingValidIngredients(), oneSecond);\n    };\n    trigger();\n  }, [suggestions, details]);\n  useEffect(() => {\n    const fetchAndGet = async () => {\n      if (history.location.pathname.includes('meals')) {\n        const mealsResults = await fetchMealsById(id);\n        const drinksSuggestion = await fetchSuggestionDrinks();\n        setDetails({\n          ...mealsResults.meals[0],\n        });\n        setSuggestions([\n          ...drinksSuggestion.drinks,\n        ]);\n      } else if (history.location.pathname.includes('drinks')) {\n        const drinksResults = await fetchDrinksById(id);\n        const mealsSuggestion = await fetchSuggestionMeals();\n        setDetails({\n          ...drinksResults.drinks[0],\n        });\n        setSuggestions(() => [\n          ...mealsSuggestion.meals,\n        ]);\n      }\n    };\n    fetchAndGet();\n  }, []);\n  return (\n    <>\n      <div>\n        RecipeDetails\n        {urlCopied && (<p>Link copied!</p>)}\n        <Link to={ `${id}/in-progress` }>\n          <button\n            className=\"startRecipe\"\n            type=\"button\"\n            data-testid=\"start-recipe-btn\"\n          >\n            { getButtonStartText() ? 'Continue Recipe' : 'Start Recipe' }\n          </button>\n        </Link>\n        <button\n          type=\"button\"\n          data-testid=\"share-btn\"\n          onClick={ shareRecipe }\n        >\n          <img src={ shareIcon } alt=\"share\" />\n        </button>\n        <button\n          type=\"button\"\n          data-testid=\"favorite-btn\"\n          onClick={ favoriteRecipe }\n          src={ favoriteIcon }\n        >\n          <img src={ favoriteIcon } alt=\"favorite\" />\n        </button>\n      </div>\n      <main>\n        {(history.location.pathname.includes('meals')) ? (\n          <section>\n            <img\n              data-testid=\"recipe-photo\"\n              alt={ details.strMeal }\n              src={ details.strMealThumb }\n            />\n            <h2 data-testid=\"recipe-title\">{details.strMeal}</h2>\n            <p data-testid=\"recipe-category\">{details.strCategory}</p>\n            <ul>\n              {allIngredients && allIngredients.map((ingredient, i) => (\n                <li key={ i } data-testid={ `${i}-ingredient-name-and-measure` }>\n                  { `${measure[i]} ${ingredient}` }\n                </li>\n              ))}\n            </ul>\n            <p data-testid=\"instructions\">{details.strInstructions}</p>\n            <iframe\n              src={ details.strYoutube }\n              title={ details.strMeal }\n              data-testid=\"video\"\n            />\n          </section>\n        ) : (\n          <section>\n            <img\n              data-testid=\"recipe-photo\"\n              alt={ details.strDrink }\n              src={ details.strDrinkThumb }\n            />\n            <h2 data-testid=\"recipe-title\">{details.strDrink}</h2>\n            <p\n              data-testid=\"recipe-category\"\n            >\n              {`${details.strCategory} - ${details.strAlcoholic}`}\n            </p>\n            <ul>\n              {allIngredients && allIngredients.map((ingredient, i) => (\n                <li\n                  key={ i }\n                  className=\"meals-ingredients\"\n                  data-testid={ `${i}-ingredient-name-and-measure` }\n                >\n                  { `${measure[i]} ${ingredient}` }\n                </li>\n              ))}\n            </ul>\n            <p data-testid=\"instructions\">{details.strInstructions}</p>\n          </section>)}\n      </main>\n      <div className=\"suggestion-card-container\" role=\"listbox\">\n        {suggestionsToRender && suggestionsToRender.map((suggestion, i) => {\n          if (history.location.pathname.includes('meals')) {\n            return (\n              <div\n                className=\"suggestion-card\"\n                data-testid={ `${i}-recommendation-card` }\n                key={ i }\n              >\n                <SuggestionCard\n                  name={ suggestion.strDrink }\n                  index={ i }\n                />\n              </div>\n            );\n          } if (history.location.pathname.includes('drinks')) {\n            return (\n              <div\n                className=\"suggestion-card\"\n                data-testid={ `${i}-recommendation-card` }\n                key={ i }\n              >\n                <SuggestionCard\n                  name={ suggestion.strMeal }\n                  index={ i }\n                />\n              </div>\n            );\n          }\n          return ('erro');\n        })}\n      </div>\n    </>\n  );\n}\n\nRecipeDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }),\n}.isRequired;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}