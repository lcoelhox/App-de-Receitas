{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/pages/RecipeDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport { fetchDrinksById, fetchMealsById } from '../services/fetchById';\nimport { fetchSuggestionDrinks, fetchSuggestionMeals } from '../services/fetchSuggestions';\nimport RecipesContext from '../hooks/RecipesContext';\nimport SuggestionCard from '../components/SuggestionCard';\nimport '../css/buttons.css';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RecipeDetails(_ref) {\n  _s();\n\n  let {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = _ref;\n  const history = useHistory();\n  const {\n    setSuggestionsToRender,\n    suggestionsToRender,\n    saveRecipeToLocalStorage,\n    removeRecipeFromLocalStorage,\n    isRecipeOnLocalStorage\n  } = useContext(RecipesContext);\n  const [details, setDetails] = useState({});\n  const [suggestions, setSuggestions] = useState([]);\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [measure, setMeasure] = useState([]);\n  const five = 5;\n  const oneSecond = 1000;\n  const timer = useRef(null);\n\n  const getingValidIngredients = () => {\n    Object.keys(details).forEach(key => {\n      if (key.includes('strIngredient') && details[key] !== null && details[key] !== '' && !allIngredients.some(ing => ing.includes(details[key]))) {\n        setAllIngredients(prev => [...prev, details[key]]);\n      }\n\n      if (key.includes('strMeasure') && details[key] !== null && details[key] !== '' && !allIngredients.some(ing => ing.includes(details[key]))) {\n        setMeasure(previous => [...previous, details[key]]);\n      }\n    });\n  };\n\n  const [urlCopied, setUrlCopied] = useState(false);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n\n  const shareRecipe = () => {\n    copy(window.location.href);\n    setUrlCopied(true);\n  };\n\n  const favoriteRecipe = () => {\n    if (isRecipeOnLocalStorage(id)) {\n      setFavoriteIcon(blackHeartIcon);\n      removeRecipeFromLocalStorage(id);\n    } else {\n      setFavoriteIcon(whiteHeartIcon);\n      saveRecipeToLocalStorage(id);\n    }\n  };\n\n  useEffect(() => {\n    suggestions.forEach((suggestion, i) => {\n      if (i <= five) {\n        setSuggestionsToRender(prev => [...prev, suggestion]);\n      }\n    });\n\n    const trigger = () => {\n      clearTimeout(timer.current);\n      timer.current = setTimeout(() => getingValidIngredients(), oneSecond);\n    };\n\n    trigger();\n  }, [suggestions, details]);\n  useEffect(() => {\n    const fetchAndGet = async () => {\n      if (history.location.pathname.includes('meals')) {\n        const mealsResults = await fetchMealsById(id);\n        const drinksSuggestion = await fetchSuggestionDrinks();\n        setDetails({ ...mealsResults.meals[0]\n        });\n        setSuggestions([...drinksSuggestion.drinks]);\n      } else if (history.location.pathname.includes('drinks')) {\n        const drinksResults = await fetchDrinksById(id);\n        const mealsSuggestion = await fetchSuggestionMeals();\n        setDetails({ ...drinksResults.drinks[0]\n        });\n        setSuggestions(() => [...mealsSuggestion.meals]);\n      }\n    };\n\n    fetchAndGet();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"RecipeDetails\", urlCopied && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Link copied!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `${id}/in-progress`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"startRecipe\",\n          type: \"button\",\n          \"data-testid\": \"start-recipe-btn\",\n          children: \"Start Recipe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"share-btn\",\n        onClick: shareRecipe,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shareIcon,\n          alt: \"share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"favorite-btn\",\n        onClick: favoriteRecipe,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: favoriteIcon,\n          alt: \"favorite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: history.location.pathname.includes('meals') ? /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"recipe-photo\",\n          alt: details.strMeal,\n          src: details.strMealThumb\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          \"data-testid\": \"recipe-title\",\n          children: details.strMeal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"recipe-category\",\n          children: details.strCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: allIngredients && allIngredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-testid\": `${i}-ingredient-name-and-measure`,\n            children: `${measure[i]} ${ingredient}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"instructions\",\n          children: details.strInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: details.strYoutube,\n          title: details.strMeal,\n          \"data-testid\": \"video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          \"data-testid\": \"recipe-photo\",\n          alt: details.strDrink,\n          src: details.strDrinkThumb\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          \"data-testid\": \"recipe-title\",\n          children: details.strDrink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"recipe-category\",\n          children: `${details.strCategory} - ${details.strAlcoholic}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: allIngredients && allIngredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"meals-ingredients\",\n            \"data-testid\": `${i}-ingredient-name-and-measure`,\n            children: `${measure[i]} ${ingredient}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"instructions\",\n          children: details.strInstructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestion-card-container\",\n      role: \"listbox\",\n      children: suggestionsToRender && suggestionsToRender.map((suggestion, i) => {\n        if (history.location.pathname.includes('meals')) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-card\",\n            \"data-testid\": `${i}-recommendation-card`,\n            children: /*#__PURE__*/_jsxDEV(SuggestionCard, {\n              name: suggestion.strDrink,\n              index: i\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this);\n        }\n\n        if (history.location.pathname.includes('drinks')) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggestion-card\",\n            \"data-testid\": `${i}-recommendation-card`,\n            children: /*#__PURE__*/_jsxDEV(SuggestionCard, {\n              name: suggestion.strMeal,\n              index: i\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this);\n        }\n\n        return 'erro';\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RecipeDetails, \"7Bryfj5oLOwcZ60BbXNDcLOwE78=\", false, function () {\n  return [useHistory];\n});\n\n_c = RecipeDetails;\nRecipeDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n}.isRequired;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useRef","useHistory","Link","PropTypes","copy","fetchDrinksById","fetchMealsById","fetchSuggestionDrinks","fetchSuggestionMeals","RecipesContext","SuggestionCard","shareIcon","whiteHeartIcon","blackHeartIcon","RecipeDetails","match","params","id","history","setSuggestionsToRender","suggestionsToRender","saveRecipeToLocalStorage","removeRecipeFromLocalStorage","isRecipeOnLocalStorage","details","setDetails","suggestions","setSuggestions","allIngredients","setAllIngredients","measure","setMeasure","five","oneSecond","timer","getingValidIngredients","Object","keys","forEach","key","includes","some","ing","prev","previous","urlCopied","setUrlCopied","favoriteIcon","setFavoriteIcon","shareRecipe","window","location","href","favoriteRecipe","suggestion","i","trigger","clearTimeout","current","setTimeout","fetchAndGet","pathname","mealsResults","drinksSuggestion","meals","drinks","drinksResults","mealsSuggestion","strMeal","strMealThumb","strCategory","map","ingredient","strInstructions","strYoutube","strDrink","strDrinkThumb","strAlcoholic","propTypes","shape","string","isRequired"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/pages/RecipeDetails.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport { fetchDrinksById, fetchMealsById } from '../services/fetchById';\nimport {\n  fetchSuggestionDrinks,\n  fetchSuggestionMeals,\n} from '../services/fetchSuggestions';\nimport RecipesContext from '../hooks/RecipesContext';\nimport SuggestionCard from '../components/SuggestionCard';\nimport '../css/buttons.css';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\nexport default function RecipeDetails({ match: { params: { id } } }) {\n  const history = useHistory();\n  const {\n    setSuggestionsToRender,\n    suggestionsToRender,\n    saveRecipeToLocalStorage,\n    removeRecipeFromLocalStorage,\n    isRecipeOnLocalStorage } = useContext(RecipesContext);\n  const [details, setDetails] = useState({});\n  const [suggestions, setSuggestions] = useState([]);\n  const [allIngredients, setAllIngredients] = useState([]);\n  const [measure, setMeasure] = useState([]);\n  const five = 5;\n  const oneSecond = 1000;\n  const timer = useRef(null);\n\n  const getingValidIngredients = () => {\n    Object.keys(details).forEach((key) => {\n      if (key.includes('strIngredient')\n        && details[key] !== null\n        && details[key] !== ''\n        && !allIngredients.some((ing) => ing.includes(details[key]))) {\n        setAllIngredients((prev) => [\n          ...prev,\n          details[key],\n        ]);\n      }\n      if (key.includes('strMeasure')\n        && details[key] !== null\n        && details[key] !== ''\n        && !allIngredients.some((ing) => ing.includes(details[key]))) {\n        setMeasure((previous) => [\n          ...previous,\n          details[key],\n        ]);\n      }\n    });\n  };\n\n  const [urlCopied, setUrlCopied] = useState(false);\n  const [favoriteIcon, setFavoriteIcon] = useState(whiteHeartIcon);\n\n  const shareRecipe = () => {\n    copy(window.location.href);\n    setUrlCopied(true);\n  };\n\n  const favoriteRecipe = () => {\n    if (isRecipeOnLocalStorage(id)) {\n      setFavoriteIcon(blackHeartIcon);\n      removeRecipeFromLocalStorage(id);\n    } else {\n      setFavoriteIcon(whiteHeartIcon);\n      saveRecipeToLocalStorage(id);\n    }\n  };\n\n  useEffect(() => {\n    suggestions.forEach((suggestion, i) => {\n      if (i <= five) {\n        setSuggestionsToRender((prev) => [\n          ...prev,\n          suggestion,\n        ]);\n      }\n    });\n    const trigger = () => {\n      clearTimeout(timer.current);\n      timer.current = setTimeout(() => getingValidIngredients(), oneSecond);\n    };\n    trigger();\n  }, [suggestions, details]);\n\n  useEffect(() => {\n    const fetchAndGet = async () => {\n      if (history.location.pathname.includes('meals')) {\n        const mealsResults = await fetchMealsById(id);\n        const drinksSuggestion = await fetchSuggestionDrinks();\n        setDetails({\n          ...mealsResults.meals[0],\n        });\n        setSuggestions([\n          ...drinksSuggestion.drinks,\n        ]);\n      } else if (history.location.pathname.includes('drinks')) {\n        const drinksResults = await fetchDrinksById(id);\n        const mealsSuggestion = await fetchSuggestionMeals();\n        setDetails({\n          ...drinksResults.drinks[0],\n        });\n        setSuggestions(() => [\n          ...mealsSuggestion.meals,\n        ]);\n      }\n    };\n    fetchAndGet();\n  }, []);\n\n  return (\n    <>\n      <div>\n        RecipeDetails\n        {urlCopied && (<p>Link copied!</p>)}\n        <Link to={ `${id}/in-progress` }>\n          <button\n            className=\"startRecipe\"\n            type=\"button\"\n            data-testid=\"start-recipe-btn\"\n          >\n            Start Recipe\n          </button>\n        </Link>\n        <button\n          type=\"button\"\n          data-testid=\"share-btn\"\n          onClick={ shareRecipe }\n        >\n          <img src={ shareIcon } alt=\"share\" />\n        </button>\n        <button\n          type=\"button\"\n          data-testid=\"favorite-btn\"\n          onClick={ favoriteRecipe }\n        >\n          <img src={ favoriteIcon } alt=\"favorite\" />\n        </button>\n      </div>\n      <main>\n        {(history.location.pathname.includes('meals')) ? (\n          <section>\n            <img\n              data-testid=\"recipe-photo\"\n              alt={ details.strMeal }\n              src={ details.strMealThumb }\n            />\n            <h2 data-testid=\"recipe-title\">{details.strMeal}</h2>\n            <p data-testid=\"recipe-category\">{details.strCategory}</p>\n            <ul>\n              {allIngredients && allIngredients.map((ingredient, i) => (\n                <li key={ i } data-testid={ `${i}-ingredient-name-and-measure` }>\n                  { `${measure[i]} ${ingredient}` }\n                </li>\n              ))}\n            </ul>\n            <p data-testid=\"instructions\">{details.strInstructions}</p>\n            <iframe\n              src={ details.strYoutube }\n              title={ details.strMeal }\n              data-testid=\"video\"\n            />\n          </section>\n        ) : (\n          <section>\n            <img\n              data-testid=\"recipe-photo\"\n              alt={ details.strDrink }\n              src={ details.strDrinkThumb }\n            />\n            <h2 data-testid=\"recipe-title\">{details.strDrink}</h2>\n            <p\n              data-testid=\"recipe-category\"\n            >\n              {`${details.strCategory} - ${details.strAlcoholic}`}\n            </p>\n            <ul>\n              {allIngredients && allIngredients.map((ingredient, i) => (\n                <li\n                  key={ i }\n                  className=\"meals-ingredients\"\n                  data-testid={ `${i}-ingredient-name-and-measure` }\n                >\n                  { `${measure[i]} ${ingredient}` }\n                </li>\n              ))}\n            </ul>\n            <p data-testid=\"instructions\">{details.strInstructions}</p>\n          </section>)}\n      </main>\n      <div className=\"suggestion-card-container\" role=\"listbox\">\n        {suggestionsToRender && suggestionsToRender.map((suggestion, i) => {\n          if (history.location.pathname.includes('meals')) {\n            return (\n              <div\n                className=\"suggestion-card\"\n                data-testid={ `${i}-recommendation-card` }\n                key={ i }\n              >\n                <SuggestionCard\n                  name={ suggestion.strDrink }\n                  index={ i }\n                />\n              </div>\n            );\n          } if (history.location.pathname.includes('drinks')) {\n            return (\n              <div\n                className=\"suggestion-card\"\n                data-testid={ `${i}-recommendation-card` }\n                key={ i }\n              >\n                <SuggestionCard\n                  name={ suggestion.strMeal }\n                  index={ i }\n                />\n              </div>\n            );\n          }\n          return ('erro');\n        })}\n      </div>\n    </>\n  );\n}\n\nRecipeDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }),\n}.isRequired;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}