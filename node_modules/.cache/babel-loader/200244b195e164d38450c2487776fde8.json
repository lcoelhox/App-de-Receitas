{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/hooks/RecipesProvider.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipesContext from './RecipesContext';\nimport { fetchDrinksByFistLetter, fetchDrinksByIngredient, fetchDrinksByName } from '../services/fetchDrinks';\nimport { fetchMealsByFistLetter, fetchMealsByIngredient, fetchMealsByName } from '../services/fetchMeals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst alertNull = 'Sorry, we haven\\'t found any recipes for these filters.';\n\nfunction RecipesProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [personalData, setPersonalData] = useState({\n    email: '',\n    password: ''\n  });\n  const [disabled, setDisabled] = useState({\n    isDisabled: true\n  });\n  const [filterType, setFilterType] = useState({});\n  const [filterValue, setFilterValue] = useState({});\n  const [mealsData, setMealsData] = useState({\n    data: []\n  });\n  const [drinkData, setDrinkData] = useState({\n    data: []\n  });\n\n  const validateEmail = () => {\n    const {\n      email,\n      password\n    } = personalData;\n    const minPasswordLength = 6;\n    const regexEmail = /\\S+@\\S+\\.\\S+/;\n    const validated = regexEmail.test(email);\n\n    if (validated && password.length >= minPasswordLength) {\n      setDisabled({\n        isDisabled: false\n      });\n    } else {\n      setDisabled({\n        isDisabled: true\n      });\n    }\n  };\n\n  const handleChange = _ref2 => {\n    let {\n      target: {\n        name,\n        value\n      }\n    } = _ref2;\n    setPersonalData({ ...personalData,\n      [name]: value\n    });\n    validateEmail();\n  };\n\n  const savePersonalData = () => {\n    localStorage.setItem('user', JSON.stringify({\n      email: personalData.email\n    }));\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('drinksToken', 1);\n  };\n\n  const fetchMeals = async _ref3 => {\n    let {\n      filter\n    } = _ref3;\n\n    switch (filterType.filter) {\n      case 'ingredients':\n        {\n          const byIngredients = await fetchMealsByIngredient(filter);\n          setMealsData({ ...mealsData,\n            data: byIngredients\n          });\n\n          if (byIngredients === null) {\n            global.alert(alertNull);\n          }\n\n          break;\n        }\n\n      case 'name':\n        {\n          const byName = await fetchMealsByName(filter);\n          setMealsData({ ...mealsData,\n            data: byName\n          });\n\n          if (byName === null) {\n            global.alert(alertNull);\n          }\n\n          break;\n        }\n\n      case 'firstLetter':\n        {\n          if (filter.length > 1) {\n            global.alert('Your search must have only 1 (one) character');\n          } else {\n            const byLetter = await fetchMealsByFistLetter(filter);\n            setMealsData({ ...mealsData,\n              data: byLetter\n            });\n\n            if (byLetter === null) {\n              global.alert(alertNull);\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          return 'null';\n        }\n    }\n  };\n\n  const fetchDrinks = async _ref4 => {\n    let {\n      filter\n    } = _ref4;\n\n    switch (filterType.filter) {\n      case 'ingredients':\n        {\n          const byIngredients = await fetchDrinksByIngredient(filter);\n          setDrinkData({ ...drinkData,\n            data: byIngredients\n          });\n\n          if (byIngredients === null) {\n            global.alert(alertNull);\n          }\n\n          break;\n        }\n\n      case 'name':\n        {\n          const byName = await fetchDrinksByName(filter);\n          setDrinkData({ ...drinkData,\n            data: byName\n          });\n\n          if (byIngredients === null) {\n            global.alert(alertNull);\n          }\n\n          break;\n        }\n\n      case 'firstLetter':\n        {\n          if (filter.length > 1) {\n            global.alert('Your search must have only 1 (one) character');\n          } else {\n            const byLetter = await fetchDrinksByFistLetter(filter);\n            setDrinkData({ ...drinkData,\n              data: byLetter\n            });\n\n            if (byIngredients === null) {\n              global.alert(alertNull);\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          return 'null';\n        }\n    }\n  };\n\n  const filterHandleChange = _ref5 => {\n    let {\n      target: {\n        value\n      }\n    } = _ref5;\n    setFilterValue({ ...filterValue,\n      filter: value\n    });\n  };\n\n  const context = {\n    handleChange,\n    disabled,\n    personalData,\n    savePersonalData,\n    setFilterType,\n    filterType,\n    filterValue,\n    setFilterValue,\n    filterHandleChange,\n    fetchMeals,\n    fetchDrinks,\n    mealsData,\n    drinkData,\n    setMealsData\n  };\n  return /*#__PURE__*/_jsxDEV(RecipesContext.Provider, {\n    value: context,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipesProvider, \"05/Ose+dGc8rhz6ozspi/TFS3SI=\");\n\n_c = RecipesProvider;\nRecipesProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default RecipesProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipesProvider\");","map":{"version":3,"names":["React","useState","PropTypes","RecipesContext","fetchDrinksByFistLetter","fetchDrinksByIngredient","fetchDrinksByName","fetchMealsByFistLetter","fetchMealsByIngredient","fetchMealsByName","alertNull","RecipesProvider","children","personalData","setPersonalData","email","password","disabled","setDisabled","isDisabled","filterType","setFilterType","filterValue","setFilterValue","mealsData","setMealsData","data","drinkData","setDrinkData","validateEmail","minPasswordLength","regexEmail","validated","test","length","handleChange","target","name","value","savePersonalData","localStorage","setItem","JSON","stringify","fetchMeals","filter","byIngredients","global","alert","byName","byLetter","fetchDrinks","filterHandleChange","context","propTypes","node","isRequired"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Frontend/sd-023-a-project-recipes-app/src/hooks/RecipesProvider.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipesContext from './RecipesContext';\nimport {\n  fetchDrinksByFistLetter,\n  fetchDrinksByIngredient,\n  fetchDrinksByName,\n} from '../services/fetchDrinks';\nimport {\n  fetchMealsByFistLetter,\n  fetchMealsByIngredient,\n  fetchMealsByName,\n} from '../services/fetchMeals';\n\nconst alertNull = 'Sorry, we haven\\'t found any recipes for these filters.';\nfunction RecipesProvider({ children }) {\n  const [personalData, setPersonalData] = useState({\n    email: '',\n    password: '',\n  });\n  const [disabled, setDisabled] = useState({\n    isDisabled: true,\n  });\n  const [filterType, setFilterType] = useState({});\n  const [filterValue, setFilterValue] = useState({});\n  const [mealsData, setMealsData] = useState({\n    data: [],\n  });\n  const [drinkData, setDrinkData] = useState({\n    data: [],\n  });\n\n  const validateEmail = () => {\n    const { email, password } = personalData;\n    const minPasswordLength = 6;\n    const regexEmail = /\\S+@\\S+\\.\\S+/;\n    const validated = regexEmail.test(email);\n\n    if (validated && password.length >= minPasswordLength) {\n      setDisabled({\n        isDisabled: false,\n      });\n    } else {\n      setDisabled({\n        isDisabled: true,\n      });\n    }\n  };\n\n  const handleChange = ({ target: { name, value } }) => {\n    setPersonalData({\n      ...personalData,\n      [name]: value,\n    });\n    validateEmail();\n  };\n\n  const savePersonalData = () => {\n    localStorage.setItem('user', JSON.stringify({ email: personalData.email }));\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('drinksToken', 1);\n  };\n\n  const fetchMeals = async ({ filter }) => {\n    switch (filterType.filter) {\n    case 'ingredients': {\n      const byIngredients = await fetchMealsByIngredient(filter);\n      setMealsData({\n        ...mealsData,\n        data: byIngredients,\n      });\n      if (byIngredients === null) {\n        global.alert(alertNull);\n      }\n      break;\n    }\n    case 'name': {\n      const byName = await fetchMealsByName(filter);\n      setMealsData({\n        ...mealsData,\n        data: byName,\n      });\n      if (byName === null) {\n        global.alert(alertNull);\n      }\n      break;\n    }\n    case 'firstLetter': {\n      if (filter.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      } else {\n        const byLetter = await fetchMealsByFistLetter(filter);\n        setMealsData({\n          ...mealsData,\n          data: byLetter,\n        });\n        if (byLetter === null) {\n          global.alert(alertNull);\n        }\n      }\n      break;\n    }\n    default: {\n      return 'null';\n    }\n    }\n  };\n  const fetchDrinks = async ({ filter }) => {\n    switch (filterType.filter) {\n    case 'ingredients': {\n      const byIngredients = await fetchDrinksByIngredient(filter);\n      setDrinkData({\n        ...drinkData,\n        data: byIngredients,\n      });\n      if (byIngredients === null) {\n        global.alert(alertNull);\n      }\n      break;\n    }\n    case 'name': {\n      const byName = await fetchDrinksByName(filter);\n      setDrinkData({\n        ...drinkData,\n        data: byName,\n      });\n      if (byIngredients === null) {\n        global.alert(alertNull);\n      }\n      break;\n    }\n    case 'firstLetter': {\n      if (filter.length > 1) {\n        global.alert('Your search must have only 1 (one) character');\n      } else {\n        const byLetter = await fetchDrinksByFistLetter(filter);\n        setDrinkData({\n          ...drinkData,\n          data: byLetter,\n        });\n        if (byIngredients === null) {\n          global.alert(alertNull);\n        }\n      }\n      break;\n    }\n    default: {\n      return 'null';\n    }\n    }\n  };\n\n  const filterHandleChange = ({ target: { value } }) => {\n    setFilterValue({\n      ...filterValue,\n      filter: value,\n    });\n  };\n\n  const context = {\n    handleChange,\n    disabled,\n    personalData,\n    savePersonalData,\n    setFilterType,\n    filterType,\n    filterValue,\n    setFilterValue,\n    filterHandleChange,\n    fetchMeals,\n    fetchDrinks,\n    mealsData,\n    drinkData,\n    setMealsData,\n  };\n  return (\n    <RecipesContext.Provider value={ context }>\n      {children}\n    </RecipesContext.Provider>\n  );\n}\n\nRecipesProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default RecipesProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}